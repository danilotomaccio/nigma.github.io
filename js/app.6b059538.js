(function(e){function t(t){for(var o,a,i=t[0],c=t[1],u=t[2],l=0,f=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},s={app:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0894":function(e,t,n){"use strict";n("0e8c")},"0e8c":function(e,t,n){},"20a4":function(e,t,n){},"221e":function(e,t,n){"use strict";n("9775")},3078:function(e,t,n){},5038:function(e,t,n){"use strict";n("fecc")},6967:function(e,t,n){},"6b0e":function(e,t,n){},"6f2a":function(e,t,n){},"88d0":function(e,t,n){},"8d4e":function(e,t,n){"use strict";n("20a4")},9775:function(e,t,n){},"97f3":function(e,t,n){"use strict";n("6b0e")},b146:function(e,t,n){"use strict";n("3078")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function s(e,t,n,s,r,a){var i=Object(o["r"])("HomePage");return Object(o["k"])(),Object(o["c"])(i)}var r=n("d4ec"),a=n("262e"),i=n("2caf"),c=n("9ab4"),u=n("ce1f"),d=n("5502"),l=n("d16a"),f=n.n(l),b=Object(o["f"])("div",{class:"background"},null,-1),g={id:"senderInfo",class:"foregr onTop"},h=Object(o["f"])("div",{class:"circularImage"},[Object(o["f"])("img",{src:f.a,alt:"Jerry"})],-1),p=Object(o["f"])("div",{id:"nameText"},"Jerry",-1);function O(e,t,n,s,r,a){var i=Object(o["r"])("Grid"),c=Object(o["r"])("ChatHistory"),u=Object(o["r"])("MessageComposer"),d=Object(o["r"])("MoreMenu");return Object(o["k"])(),Object(o["e"])("div",{id:"chat",style:Object(o["j"])("font-family:"+this.$store.state.settings.font)},[b,Object(o["h"])(i),Object(o["h"])(c),Object(o["h"])(u),Object(o["f"])("div",g,[h,p,Object(o["h"])(d)])],4)}var v={id:"chat_history"},m={key:0};function j(e,t,n,s,r,a){var i=Object(o["r"])("MessageWrapper"),c=Object(o["r"])("Loading");return Object(o["k"])(),Object(o["e"])("div",v,[(Object(o["k"])(!0),Object(o["e"])(o["a"],null,Object(o["q"])(e.messages,(function(e){return Object(o["k"])(),Object(o["e"])("div",{key:e.id,ref:"messages"},[Object(o["h"])(i,{msg:e.text,sent:"me"===e.sender,image:e.image},null,8,["msg","sent","image"])],512)})),128)),e.writing?(Object(o["k"])(),Object(o["e"])("div",m,[Object(o["h"])(c)])):Object(o["d"])("",!0)])}var y=n("b85c"),M=n("1da1"),w=(n("96cf"),n("fb6a"),n("d3b7"),n("a4d3"),n("e01a"),n("2909")),k=(n("99af"),n("e9c4"),n("d81d"),n("25f0"),function e(t){var n=t.text,o=t.sender,s=t.image,a=t.delay,i=t.customKeyboard,c=t.options,u=t.triggerArea;Object(r["a"])(this,e),this.id=Math.random().toString(16).slice(2),this.text=n,this.sender=o,this.image=s,this.customKeyboard=i,this.delay=a,this.options=c,this.triggerArea=u});function I(e,t){var n=t,o=function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];var r=o[0],a=o[1];n(r,a),localStorage.setItem(e,JSON.stringify(r[e]))};return o}function S(e,t){var n=t,o=function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];var r=o[0],a=o[1];n(r,a),localStorage.setItem(e,r[e])};return o}function x(e,t){var n=JSON.parse(localStorage.getItem(e));return n||t}function C(e,t){var n=localStorage.getItem(e);return n||t}var _,T="http://localhost:3000",P={state:{messageHistory:x("messageHistory",[]),sessionId:C("sessionId",""),position:null},mutations:{addMessage:I("messageHistory",(function(e,t){e.messageHistory=[].concat(Object(w["a"])(e.messageHistory),[t])})),sendMessageReq:function(){},sendMessageRes:I("messageHistory",(function(e,t){e.messageHistory=[].concat(Object(w["a"])(e.messageHistory),Object(w["a"])(t))})),sendMessageErr:function(e,t){console.error(t)},createSessionReq:function(e,t){},createSessionRes:S("sessionId",(function(e,t){e.sessionId=t})),createSessionErr:function(e,t){console.error(t)},resetMessages:I("messageHistory",(function(e){e.messageHistory=[]})),updatePosition:function(e,t){e.position=t}},actions:{createSession:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function n(){var o,s,r,a,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=e.commit,e.state,e.dispatch,s={method:"POST",redirect:"follow"},t&&(s.body=JSON.stringify({sessionId:t})),o(E,s),n.prev=4,n.next=7,fetch("".concat(T,"/createSession"),s);case 7:return r=n.sent,n.next=10,r.json();case 10:a=n.sent,i=a.sessionId,o(F,i),c=a.messages.map((function(e){return new k({text:e.text,sender:"other",image:e.image,delay:e.delay,customKeyboard:e.customKeyboard,options:e.options,triggerArea:e.triggerArea})})),o(B,c),n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](4),o($,n.t0);case 20:case"end":return n.stop()}}),n,null,[[4,17]])})))()},sendMessage:function(e,t){return Object(M["a"])(regeneratorRuntime.mark((function n(){var o,s,r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.commit,s=e.state,e.dispatch,s.sessionId){n.next=3;break}throw new Error("sessionId null!");case 3:return o(A,{text:t,sender:"me"}),r={method:"POST",body:JSON.stringify({sessionId:s.sessionId,message:t}),redirect:"follow"},o(H,r),n.prev=6,n.next=9,fetch("".concat(T,"/elaborateMessage"),r);case 9:return n.next=11,n.sent.json();case 11:a=n.sent,i=a.messages.map((function(e){return new k({text:e.text,sender:"other",image:e.image,delay:e.delay,customKeyboard:e.customKeyboard,options:e.options,triggerArea:e.triggerArea})})),o(B,i),n.next=19;break;case 16:n.prev=16,n.t0=n["catch"](6),o(N,n.t0);case 19:case"end":return n.stop()}}),n,null,[[6,16]])})))()},saveStringOnLocal:function(e,t){var n=t.strKey,o=t.str;localStorage.setItem(n,o)},resetSession:function(e){var t=e.commit,n=e.state,o=e.dispatch;t(K),o("createSession",n.sessionId)}}},A="addMessage",H="sendMessageReq",B="sendMessageRes",N="sendMessageErr",E="createSessionReq",F="createSessionRes",$="createSessionErr",R="updatePosition",G="sendMessage",K="resetMessages",D={state:{fastMode:x("fastMode",!1),font:C("font","Aquire"),geopositionEnabled:x("geopositionEnabled",!1)},mutations:{toggleFastMode:I("fastMode",(function(e,t){e.fastMode=null!=t?t:!e.fastMode})),toggleFont:S("font",(function(e,t){e.font=null!=t?t:"Avenir"===e.font?"Aquire":"Avenir"})),toggleGeoposition:I("geopositionEnabled",(function(e,t){e.geopositionEnabled=null!=t?t:!e.geopositionEnabled}))}},q="toggleFastMode",U="toggleFont",L="toggleGeoposition";(function(e){e[e["STANDARD"]=0]="STANDARD",e[e["CUSTOM_KEYBOARD"]=1]="CUSTOM_KEYBOARD",e[e["MULTIPLE_CHOICE"]=2]="MULTIPLE_CHOICE",e[e["POSITION"]=3]="POSITION"})(_||(_={}));var z={state:{composerHeight:80,composerType:x("composerType",_.STANDARD)},mutations:{updateComposerHeight:function(e,t){e.composerHeight=t},updateComposerType:S("composerType",(function(e,t){e.composerType=t}))}},W="updateComposerType",V="updateComposerHeight",J=Symbol(),Y=Object(d["a"])({modules:{settings:D,session:P,ui:z}}),Q=n("5c40"),X={key:0,class:"msg_container sent_msg_container"},Z={class:"msg_text_container"},ee={key:1,class:"msg_container received_msg_container"},te={key:0,class:"image"},ne=["src"],oe={class:"msg_text_container"};function se(e,t,n,s,r,a){return e.sent?(Object(o["k"])(),Object(o["e"])("div",X,[Object(o["f"])("div",Z,Object(o["t"])(e.msg),1)])):(Object(o["k"])(),Object(o["e"])("div",ee,[e.image?(Object(o["k"])(),Object(o["e"])("div",te,[Object(o["f"])("img",{src:e.image},null,8,ne)])):Object(o["d"])("",!0),Object(o["f"])("div",oe,Object(o["t"])(e.msg),1)]))}var re=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.sent=!1,e}return n}(u["b"]);re=Object(c["a"])([Object(u["a"])({props:{msg:String,image:String,sent:Boolean}})],re);var ae=re,ie=(n("db16"),n("6b0d")),ce=n.n(ie);const ue=ce()(ae,[["render",se],["__scopeId","data-v-2ae6421b"]]);var de=ue,le=function(e){return Object(o["n"])("data-v-6b6cef84"),e=e(),Object(o["l"])(),e},fe={class:"loading"},be=le((function(){return Object(o["f"])("div",{class:"dot-pulse"},null,-1)})),ge=[be];function he(e,t,n,s,r,a){return Object(o["k"])(),Object(o["e"])("div",fe,ge)}var pe=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);n("daf5");const Oe=ce()(pe,[["render",he],["__scopeId","data-v-6b6cef84"]]);var ve=Oe,me=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);me=Object(c["a"])([Object(u["a"])({components:{MessageWrapper:de,Loading:ve},watch:{"$store.state.ui.composerHeight":function(e){this.setPaddingBottom(e)},"$store.state.session.messageHistory":function(e,t){var n=this;return Object(M["a"])(regeneratorRuntime.mark((function o(){var s,r,a,i;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:s=e.slice(-(e.length-t.length)),0===e.length&&(n.messages=[]),r=Object(y["a"])(s),o.prev=3,r.s();case 5:if((a=r.n()).done){o.next=21;break}if(i=a.value,!i.delay){o.next=16;break}return n.writing=!0,Object(Q["t"])((function(){n.scrollOnBottom()})),o.next=12,ye(i.delay/(n.fastMode?5:1));case 12:n.writing=!1,n.messages.push(i),o.next=17;break;case 16:n.messages.push(i);case 17:n.$store.commit(W,n.composerTypeFromMsg(i)),Object(Q["t"])((function(){n.scrollOnBottom()}));case 19:o.next=5;break;case 21:o.next=26;break;case 23:o.prev=23,o.t0=o["catch"](3),r.e(o.t0);case 26:return o.prev=26,r.f(),o.finish(26);case 29:case"end":return o.stop()}}),o,null,[[3,23,26,29]])})))()}},computed:{fastMode:function(){return this.$store.state.settings.fastMode}},data:function(){var e=Object(d["b"])(J).state.session.messageHistory,t=!1;return{messages:e,writing:t}},methods:{scrollOnBottom:function(){var e=this.$el;e.children[e.childElementCount-1].scrollIntoView({behavior:"smooth"})},setPaddingBottom:function(e){var t=this.$el;t.style.paddingBottom=e+"px"},composerTypeFromMsg:function(e){return e.triggerArea?_.POSITION:e.customKeyboard?_.CUSTOM_KEYBOARD:!e.customKeyboard&&e.options?_.MULTIPLE_CHOICE:_.STANDARD}}})],me);var je=me;function ye(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}n("d098");const Me=ce()(je,[["render",j],["__scopeId","data-v-34e0f589"]]);var we=Me,ke=function(e){return Object(o["n"])("data-v-6327b7d3"),e=e(),Object(o["l"])(),e},Ie={key:0,id:"msg_composer",class:"foregr onBottom",ref:"msgComposer"},Se={key:1,id:"msg_composer",class:"foregr onBottom",ref:"msgComposer"},xe={class:"text_bar"},Ce=ke((function(){return Object(o["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF"},[Object(o["f"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(o["f"])("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})],-1)})),_e=[Ce],Te={key:2,id:"msg_composer",class:"foregr onBottom",ref:"msgComposer"};function Pe(e,t,n,s,r,a){var i=Object(o["r"])("Radar"),c=Object(o["r"])("HintButton"),u=Object(o["r"])("CustomKeyboard");return e.composerType===e.ComposerType.POSITION?(Object(o["k"])(),Object(o["e"])("div",Ie,[Object(o["h"])(i)],512)):e.composerType===e.ComposerType.STANDARD||e.composerType===e.ComposerType.CUSTOM_KEYBOARD?(Object(o["k"])(),Object(o["e"])("div",Se,[Object(o["f"])("div",xe,[Object(o["h"])(c),Object(o["f"])("div",{onInput:t[0]||(t[0]=function(){return e.updateMsg&&e.updateMsg.apply(e,arguments)}),"data-ph":"Scrivi messaggio",id:"send-msg",contenteditable:"true",onKeyup:t[1]||(t[1]=Object(o["x"])((function(t){return e.sendMessage(e.msg)}),["enter"]))},Object(o["t"])(e.msg),33),Object(o["f"])("div",{id:"send-btn",onClick:t[2]||(t[2]=function(t){return e.sendMessage(e.msg)})},_e)]),e.composerType===e.ComposerType.CUSTOM_KEYBOARD?(Object(o["k"])(),Object(o["c"])(u,{key:0,options:e.options,onOnButtonClick:t[3]||(t[3]=function(t){e.msg+=t})},null,8,["options"])):Object(o["d"])("",!0)],512)):(Object(o["k"])(),Object(o["e"])("div",Te,[e.composerType===e.ComposerType.MULTIPLE_CHOICE?(Object(o["k"])(),Object(o["c"])(u,{key:0,options:e.options,onOnButtonClick:e.sendMessage},null,8,["options","onOnButtonClick"])):Object(o["d"])("",!0)],512))}var Ae=n("5530"),He=(n("498a"),function(e){return Object(o["n"])("data-v-2a87bf5a"),e=e(),Object(o["l"])(),e}),Be=He((function(){return Object(o["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF"},[Object(o["f"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(o["f"])("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})],-1)})),Ne=[Be];function Ee(e,t,n,s,r,a){return Object(o["k"])(),Object(o["e"])("div",{class:"hint",onClick:t[0]||(t[0]=function(){return e.requestHint&&e.requestHint.apply(e,arguments)})},Ne)}var Fe=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);Fe=Object(c["a"])([Object(u["a"])({methods:{requestHint:function(){this.$store.dispatch("sendMessage","Suggerimento")}}})],Fe);var $e=Fe;n("ea82");const Re=ce()($e,[["render",Ee],["__scopeId","data-v-2a87bf5a"]]);var Ge=Re,Ke={class:"custom_keyboard"},De=["onClick"];function qe(e,t,n,s,r,a){return Object(o["k"])(),Object(o["e"])("div",Ke,[(Object(o["k"])(!0),Object(o["e"])(o["a"],null,Object(o["q"])(e.options,(function(t){return Object(o["k"])(),Object(o["e"])("div",{key:t,ref:"customKeyboard_row",class:"customK_row"},[(Object(o["k"])(!0),Object(o["e"])(o["a"],null,Object(o["q"])(t,(function(t){return Object(o["k"])(),Object(o["e"])("div",{key:t,ref:"customKeyboard_btn",class:"customK_btn",onClick:function(n){return e.$emit("onButtonClick",t,n)}},Object(o["t"])(t),9,De)})),128))],512)})),128))])}var Ue=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);Ue=Object(c["a"])([Object(u["a"])({props:{options:Array},emits:["onButtonClick"]})],Ue);var Le=Ue;n("8d4e");const ze=ce()(Le,[["render",qe],["__scopeId","data-v-8bcf40f0"]]);var We=ze,Ve=function(e){return Object(o["n"])("data-v-aeb1a686"),e=e(),Object(o["l"])(),e},Je={class:"radar"},Ye=Ve((function(){return Object(o["f"])("div",{class:"grid"},null,-1)}));function Qe(e,t,n,s,r,a){return Object(o["k"])(),Object(o["e"])("div",Je,[Ye,Object(o["f"])("div",{class:"rot_target",style:Object(o["j"])(e.targetAngleStyle)},[Object(o["f"])("div",{class:"target",style:Object(o["j"])(e.targetPositionStyle)},null,4)],4)])}var Xe=n("bee2"),Ze=(n("35b3"),n("a9e3"),function(){function e(t){var n=t.latitude,o=t.longitude;Object(r["a"])(this,e),this.latitude=n,this.longitude=o}return Object(Xe["a"])(e,[{key:"distanceWithVincentyInverse",value:function(t){return e.distanceVincentyInverse(this,t)}}],[{key:"distanceVincentyInverse",value:function(e,t){var n=Math.PI,o=Number.EPSILON,s=e.latitude*Math.PI/180,r=e.longitude*Math.PI/180,a=t.latitude*Math.PI/180,i=t.longitude*Math.PI/180,c={a:6378137,b:6356752.314245,f:1/298.257223563},u=c.a,d=c.b,l=c.f,f=i-r,b=(1-l)*Math.tan(s),g=1/Math.sqrt(1+b*b),h=b*g,p=(1-l)*Math.tan(a),O=1/Math.sqrt(1+p*p),v=p*O,m=Math.abs(f)>n/2||Math.abs(a-s)>n/2,j=f,y=null,M=null,w=m?n:0,k=0,I=m?-1:1,S=null,x=1,C=null,_=1,T=null,P=null,A=0;do{if(y=Math.sin(j),M=Math.cos(j),S=O*y*(O*y)+(g*v-h*O*M)*(g*v-h*O*M),Math.abs(S)<o)break;k=Math.sqrt(S),I=h*v+g*O*M,w=Math.atan2(k,I),C=g*O*y/k,_=1-C*C,x=0!=_?I-2*h*v/_:0,T=l/16*_*(4+l*(4-3*_)),P=j,j=f+(1-T)*l*C*(w+T*k*(x+T*I*(2*x*x-1)));var H=m?Math.abs(j)-n:Math.abs(j);if(H>n)throw new EvalError("λ > π")}while(Math.abs(j-P)>1e-12&&++A<1e3);if(A>=1e3)throw new EvalError("Vincenty formula failed to converge");var B=_*(u*u-d*d)/(d*d),N=1+B/16384*(4096+B*(B*(320-175*B)-768)),E=B/1024*(256+B*(B*(74-47*B)-128)),F=E*k*(x+E/4*(I*(2*x*x-1)-E/6*x*(4*k*k-3)*(4*x*x-3))),$=d*N*(w-F),R=Math.abs(S)<o?0:Math.atan2(O*y,g*v-h*O*M),G=Math.abs(S)<o?n:Math.atan2(g*y,-h*O+g*v*M);return{distance:$,initialBearing:Math.abs($)<o?NaN:180*R/Math.PI,finalBearing:Math.abs($)<o?NaN:180*G/Math.PI}}},{key:"distanceWithHaversine",value:function(e,t){var n=6371e3,o=e.latitude*Math.PI/180,s=t.latitude*Math.PI/180,r=(t.latitude-e.latitude)*Math.PI/180,a=(t.longitude-e.longitude)*Math.PI/180,i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(o)*Math.cos(s)*Math.sin(a/2)*Math.sin(a/2),c=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),u=n*c;return u}},{key:"distanceCosinesLaw",value:function(e,t){var n=e.latitude*Math.PI/180,o=t.latitude*Math.PI/180,s=(t.longitude-e.longitude)*Math.PI/180,r=6371e3,a=Math.acos(Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos(s))*r;return a}}]),e}()),et=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);et=Object(c["a"])([Object(u["a"])({data:function(){var e=null;return{destCoord:e}},computed:{targetAngleStyle:function(){if(this.destCoord){var e=this.destCoord,t=(e.initialBearing+e.finalBearing)/2;return"transform: rotate(".concat(t,"deg)")}return"transform: rotate(0deg)"},targetPositionStyle:function(){if(this.destCoord){var e=this.destCoord;console.log(e.distance);var t=1e3,n=e.distance/t*50;return"top: ".concat(50-n,"%;")}return"top: ".concat(-20,"%;")}},watch:{"$store.state.session.position":function(e){var t=this.$store,n=new Ze(e.coords),o=t.state.session.messageHistory,s=o[o.length-1].triggerArea;if(s){var r=s.center;this.destCoord=n.distanceWithVincentyInverse(r)}}}})],et);var tt=et;n("b146");const nt=ce()(tt,[["render",Qe],["__scopeId","data-v-aeb1a686"]]);var ot=nt,st=function(){function e(t){var n=t.center,o=t.radius;Object(r["a"])(this,e),this.center=n,this.radius=o}return Object(Xe["a"])(e,[{key:"includePosition",value:function(e){var t=this.center.distanceWithVincentyInverse(e),n=t.distance;return n<this.radius}}]),e}(),rt=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);rt=Object(c["a"])([Object(u["a"])({components:{HintButton:Ge,CustomKeyboard:We,Radar:ot},data:function(){return{msg:"",ComposerType:_,watchId:-1}},computed:{options:function(){var e=this.$store.state.session.messageHistory;return e.length>0?e[e.length-1].options:null},customKeyboard:function(){var e=this.$store.state.session.messageHistory;return e.length>0?e[e.length-1].customKeyboard:null},composerType:function(){return this.$store.state.ui.composerType}},methods:{updateMsg:function(e){this.msg=e.target.innerText},sendMessage:function(e){var t=e.trim();t.length>0&&(this.msg="",this.$store.dispatch("sendMessage",t))},startWatchPosition:function(){var e=this;if("geolocation"in navigator){var t=Object(d["b"])(J),n=t.state.session.messageHistory,o=n[n.length-1],s=new Ze(Object(Ae["a"])({},o.triggerArea.center)),r=new st({center:s,radius:o.triggerArea.radius});this.watchId=navigator.geolocation.watchPosition((function(n){e.$store.commit(R,n),r.includePosition(new Ze(n.coords))&&(t.dispatch(G,JSON.stringify({latitude:n.coords.latitude,longitude:n.coords.longitude})),navigator.geolocation.clearWatch(e.watchId))}),(function(t){console.error(t),navigator.geolocation.clearWatch(e.watchId)}),{enableHighAccuracy:!0,maximumAge:0})}}},updated:function(){this.$store.commit(V,this.$el.offsetHeight),this.composerType===_.POSITION&&this.startWatchPosition()},mounted:function(){this.$store.commit(V,this.$el.offsetHeight),this.composerType===_.POSITION&&this.startWatchPosition()},beforeUnmount:function(){navigator.geolocation.clearWatch(this.watchId)}})],rt);var at=rt;n("221e");const it=ce()(at,[["render",Pe],["__scopeId","data-v-6327b7d3"]]);var ct=it,ut=function(e){return Object(o["n"])("data-v-a1b542b0"),e=e(),Object(o["l"])(),e},dt={id:"more_menu"},lt=ut((function(){return Object(o["f"])("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF"},[Object(o["f"])("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(o["f"])("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)})),ft=[lt],bt={key:0,id:"menu"},gt=ut((function(){return Object(o["f"])("div",{class:"text"},"Tempo di scrittura ridotto",-1)})),ht={class:"switch"},pt=ut((function(){return Object(o["f"])("span",{class:"slider"},null,-1)})),Ot=ut((function(){return Object(o["f"])("div",{class:"text"},"Usa font più leggibile",-1)})),vt={class:"switch"},mt=ut((function(){return Object(o["f"])("span",{class:"slider"},null,-1)})),jt={key:0,class:"text"},yt={key:1,class:"text"},Mt={class:"switch"},wt=ut((function(){return Object(o["f"])("span",{class:"slider"},null,-1)}));function kt(e,t,n,s,r,a){var i=this,c=Object(o["s"])("click-outside");return Object(o["w"])((Object(o["k"])(),Object(o["e"])("div",dt,[Object(o["f"])("div",{id:"menu_btn",onClick:t[0]||(t[0]=function(t){return e.showMenu=!e.showMenu})},ft),e.showMenu?(Object(o["k"])(),Object(o["e"])("div",bt,[Object(o["f"])("div",{class:"option",onClick:t[1]||(t[1]=function(){return e.resetSession&&e.resetSession.apply(e,arguments)})},"Resetta chat"),Object(o["f"])("div",{class:"option",onClick:t[3]||(t[3]=function(){return e.toggleFastMode&&e.toggleFastMode.apply(e,arguments)})},[gt,Object(o["f"])("div",ht,[Object(o["w"])(Object(o["f"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.fastMode=e})},null,512),[[o["u"],this.fastMode]]),pt])]),Object(o["f"])("div",{class:"option",onClick:t[5]||(t[5]=function(){return e.toggleFont&&e.toggleFont.apply(e,arguments)})},[Ot,Object(o["f"])("div",vt,[Object(o["w"])(Object(o["f"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return i.readableFont=e})},null,512),[[o["u"],this.readableFont]]),mt])]),Object(o["f"])("div",{class:"option",onClick:t[7]||(t[7]=function(){return e.toggleGeo&&e.toggleGeo.apply(e,arguments)})},[null!==this.pos?(Object(o["k"])(),Object(o["e"])("div",jt,Object(o["t"])("".concat(this.pos.coords.latitude,", ").concat(this.pos.coords.longitude)),1)):(Object(o["k"])(),Object(o["e"])("div",yt,"Attiva geolocalizzazione")),Object(o["f"])("div",Mt,[Object(o["w"])(Object(o["f"])("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return i.geoOn=e})},null,512),[[o["u"],this.geoOn]]),wt])])])):Object(o["d"])("",!0)],512)),[[c,e.onClickOutside]])}var It=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);It=Object(c["a"])([Object(u["a"])({data:function(){var e=!1;return{showMenu:e}},methods:{onClickOutside:function(e,t){this.showMenu=!1},resetSession:function(){this.$store.dispatch("resetSession"),this.showMenu=!1},toggleFastMode:function(){this.$store.commit(q)},toggleFont:function(){this.$store.commit(U)},toggleGeo:function(){this.$store.commit(L)}},computed:{fastMode:function(){return this.$store.state.settings.fastMode},readableFont:function(){return"Avenir"===this.$store.state.settings.font},geoOn:function(){return this.$store.state.settings.geopositionEnabled},pos:function(){return this.$store.state.session.position}}})],It);var St=It;n("0894");const xt=ce()(St,[["render",kt],["__scopeId","data-v-a1b542b0"]]);var Ct=xt,_t={class:"grid"},Tt=Object(o["g"])('<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" data-v-101bdc2f><defs data-v-101bdc2f><filter id="red-glow" filterUnits="userSpaceOnUse" x="-50%" y="-50%" width="200%" height="200%" data-v-101bdc2f><feGaussianBlur in="SourceGraphic" stdDeviation="5" result="blur5" data-v-101bdc2f></feGaussianBlur><feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur10" data-v-101bdc2f></feGaussianBlur><feGaussianBlur in="SourceGraphic" stdDeviation="20" result="blur20" data-v-101bdc2f></feGaussianBlur><feGaussianBlur in="SourceGraphic" stdDeviation="30" result="blur30" data-v-101bdc2f></feGaussianBlur><feGaussianBlur in="SourceGraphic" stdDeviation="50" result="blur50" data-v-101bdc2f></feGaussianBlur><feMerge result="blur-merged" data-v-101bdc2f><feMergeNode in="blur10" data-v-101bdc2f></feMergeNode><feMergeNode in="blur20" data-v-101bdc2f></feMergeNode><feMergeNode in="blur30" data-v-101bdc2f></feMergeNode><feMergeNode in="blur50" data-v-101bdc2f></feMergeNode></feMerge><feColorMatrix result="red-blur" in="blur-merged" type="matrix" values="1 0 0 0 0\n                             0 0.06 0 0 0\n                             0 0 0.44 0 0\n                             0 0 0 1 0" data-v-101bdc2f></feColorMatrix><feMerge data-v-101bdc2f><feMergeNode in="red-blur" data-v-101bdc2f></feMergeNode><feMergeNode in="blur5" data-v-101bdc2f></feMergeNode><feMergeNode in="SourceGraphic" data-v-101bdc2f></feMergeNode></feMerge></filter><pattern id="grid" width="80" height="80" patternUnits="userSpaceOnUse" data-v-101bdc2f><rect width="80" height="80" fill="none" data-v-101bdc2f></rect></pattern></defs><rect width="100%" height="100%" fill="url(#grid)" data-v-101bdc2f></rect></svg>',1),Pt=[Tt];function At(e,t,n,s,r,a){return Object(o["k"])(),Object(o["e"])("div",_t,Pt)}var Ht=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);n("97f3");const Bt=ce()(Ht,[["render",At],["__scopeId","data-v-101bdc2f"]]);var Nt=Bt,Et=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);Et=Object(c["a"])([Object(u["a"])({components:{ChatHistory:we,MessageComposer:ct,MoreMenu:Ct,Grid:Nt},setup:function(){Object(d["b"])(J);console.log(this)}})],Et);var Ft=Et;n("cdd5");const $t=ce()(Ft,[["render",O]]);var Rt=$t,Gt=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(u["b"]);Gt=Object(c["a"])([Object(u["a"])({components:{HomePage:Rt},mounted:function(){var e=Object(d["b"])(J);null===e.state.session.sessionId&&e.dispatch("createSession")}})],Gt);var Kt=Gt;n("5038");const Dt=ce()(Kt,[["render",s]]);var qt=Dt,Ut={beforeMount:function(e,t,n){e.clickOutsideEvent=function(n){e===n.target||e.contains(n.target)||t.value(n,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}},Lt=n("9483");Object(Lt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),Object(o["b"])(qt).use(Y,J).directive("click-outside",Ut).mount("#app")},cdd5:function(e,t,n){"use strict";n("6967")},d098:function(e,t,n){"use strict";n("88d0")},d16a:function(e,t,n){e.exports=n.p+"img/jerry.fed35c22.png"},daf5:function(e,t,n){"use strict";n("f355")},db16:function(e,t,n){"use strict";n("6f2a")},dc05:function(e,t,n){},ea82:function(e,t,n){"use strict";n("dc05")},f355:function(e,t,n){},fecc:function(e,t,n){}});
//# sourceMappingURL=app.6b059538.js.map